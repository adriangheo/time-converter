<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/luxon/2.3.1/luxon.min.js"></script>
    <title>TimeConv</title>

    <script>
        jQuery(document).ready(function() {
            jQuery(".timeconvertorchild").css({
                'font-size': '0.8em'
                    // , 'border-bottom': '3px solid #0eb48d'
            });



            jQuery(".split-3-columns").css({
                'display': 'grid',
                'grid-template-columns': 'repeat(auto-fit, minmax(100px, 1fr))',
                'font-size': '0.8em'
            });


            // jQuery(".group-cls-name").css('color','#9fbe92');
            jQuery(".tz-bold").css({
                'font-weight': 'bold'
            });


            // jQuery(".boxbox").css('border-bottom','3px solid #0eb48d');

            jQuery(".tz-details").css({
                'font-size': '0.8em'
            });

            jQuery(".nowrp").css({
                'white-space': 'nowrap'
            });

            jQuery('.day-of-week').css({
                'float': 'right'
            });
            // jQuery('.minwidth').css('min-width', '500px');

            jQuery('.rightbox').css({
                'padding-left': '1em'
            });

            // jQuery(".timeconvertorparent").css('border','3px solid #0eb48d');
            // jQuery(".timeconvertorparent").css('background-color','#ade2d6');

        });
    </script>
</head>

<body>

    <script>
        jQuery(document).ready(function() {
            jQuery(".timeconvertorchild").css({
                'font-size': '0.8em'
                    // , 'border-bottom': '3px solid #0eb48d'
            });



            jQuery(".split-3-columns").css({
                'display': 'grid',
                'grid-template-columns': 'repeat(auto-fit, minmax(100px, 1fr))',
                'font-size': '0.8em'
            });


            // jQuery(".group-cls-name").css('color','#9fbe92');
            jQuery(".tz-bold").css({
                'font-weight': 'bold'
            });


            // jQuery(".boxbox").css('border-bottom','3px solid #0eb48d');

            jQuery(".tz-details").css({
                'font-size': '0.8em'
            });

            jQuery(".nowrp").css({
                'white-space': 'nowrap'
            });

            jQuery('.day-of-week').css({
                'float': 'right'
            });
            // jQuery('.minwidth').css('min-width', '500px');

            jQuery('.rightbox').css({
                'padding-left': '1em'
            });

            // jQuery(".timeconvertorparent").css('border','3px solid #0eb48d');
            // jQuery(".timeconvertorparent").css('background-color','#ade2d6');

        });
    </script>


    <div class="timeconvertorparent">
        <div class="timeconvertorchild">

            <div class="headerbox boxbox">
                <p class="tz-bold"><span class="group-cls-name">Group A</span> starting date: <span class="start-date">March 10th</span></p>
            </div>

        </div>
        <div class="conv-local-zone timeconvertorchild split-3-columns">
            <div class="leftbox boxbox">
                <p><span class="tz-bold minwidth">Your time </span> </p>
                <p class="user-cls-time tz-details">Eastern Standard Time</p>
            </div>

            <div class="middlebox boxbox">
                <p>Day1st and Day2nd</p>
                <p class="schedule-text day-of-week">Sun &amp; Wed</p>
            </div>


            <div class="rightbox boxbox boxbox ">
                <p class="user-cls-hour tz-bold"> <span class='nowrp start-hr'>5:00 PM</span> - <span class='nowrp end-hr'>6:00 PM</span></p>
                <p class="tz-details"><span class='nowrp'>Sun, Mar 6 2022</span> - <span class='nowrp'>Sun, Mar 6 2022</span></p>
            </div>
        </div>

        <div class="conv-chosen-zone timeconvertorchild split-3-columns">
            <div class="leftbox boxbox">
                <p><span class="minwidth"><span class="tz-bold ">EST </span><span class="tz-details">(New York)</span></span>
                </p>
                <p class="chosen-timezone tz-details">America/New_York</p>
            </div>

            <div class="middlebox boxbox">
                <p>Day1st and Day2nd</p>
                <p class="schedule-text day-of-week">Sun &amp; Wed</p>
            </div>

            <div class="rightbox boxbox">
                <p class="chosen-hour tz-bold"> <span class='nowrp start-hr'>10:00 AM</span> - <span class='nowrp end-hr'>11:00 AM</span></p>
                <p class="tz-details"><span class='nowrp'>Sun, Mar 6 2022</span> - <span class='nowrp'>Sun, Mar 6 2022</span></p>
            </div>
        </div>
    </div>


    <script>
        jQuery('.time-conv').each(function() {

            var day_1st = 'Sun';
            var day_2nd = 'Wed';
            var myMonth = 3;
            var myDay = 03;
            var myHour = 10;
            var myMinute = 10;
            var totalMinutes = 90;


            let dt1Start = luxon.DateTime.fromObject({
                month: myMonth,
                day: myDay,
                hour: myHour,
                minute: 0
            }, {
                zone: 'America/New_York'
            });

            // reference link: https://github.com/moment/luxon/blob/master/docs/formatting.md#user-content-intldatetimeformat
            let dtHourStart = dt1Start.toLocaleString({
                hour: 'numeric',
                minute: '2-digit'
            });

            // reference link:https://github.com/moment/luxon/blob/master/docs/formatting.md#user-content-table-of-tokens
            let dtLocalZone = dt1Start.setZone(luxon.DateTime.local().zoneName).toFormat("ZZZZZ");

            // reference link: https://github.com/moment/luxon/blob/master/docs/zones.md#user-content-creating-datetimes
            let dtTimeZone = dt1Start.zoneName;

            let dt1End = dt1Start.plus({
                hours: 1
            });

            // let dtHourEnd = dt1End.get('hour');
            let dtHourEnd = dt1End.toLocaleString({
                hour: 'numeric',
                minute: '2-digit'
            });


            //
            let userDateTimeObj = luxon.DateTime.local();
            let userTimeZoneLong = userDateTimeObj.zoneName;
            let userTimeZoneAbrev = userDateTimeObj.toFormat('ZZZZZ');

            let dt2 = dt1Start.setZone(luxon.DateTime.local().zoneName);
            let dt2HourStart = dt2.toLocaleString({
                hour: 'numeric',
                minute: '2-digit'
            });

            let dt2HourEnd = dt2.plus({
                hours: 1
            }).toLocaleString({
                hour: 'numeric',
                minute: '2-digit'
            });




            jQuery('.time-conv .leftbox .your-time').text("" + dtLocalZone);

            jQuery('.time-conv .middlebox .schedule-text').text("" + day_1st + " & " + day_2nd);
            jQuery('.time-conv .rightbox .schedule-text').text("" + dtHourStart + " - " + dtHourEnd);


            jQuery('.user-cls-time').text(userTimeZoneAbrev);


            jQuery('.user-cls-hour .start-hr').text(dt2HourStart);
            jQuery('.user-cls-hour .end-hr').text(dt2HourEnd);

            jQuery('.chosen-hour').text("" + dtHourStart + " - " + dtHourEnd);


        });
    </script>


</body>

</html>